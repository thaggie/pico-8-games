pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
t=0
c=0
function _init()
 ship = {sp=1,x=60,y=60}
 bullets = {}
 enemies = {}
 for i=0,10 do
  add(enemies,{
   sp=17,
   x=i*16,
   y=60-i*8
  })
 end
end

function fire()
 local b = {
  sp=4,
  x=ship.x,
  y=ship.y,
  dx=0,
  dy=-3
 }
 if (c<1) then
  add(bullets,b)
  c += 4
 end
end

function _update()
 t=t+1
 if (c>0) then
  c-=1
 end
 for b in all(bullets) do
  b.x += b.dx
  b.y += b.dy
  
  if (b.x<0 or b.x> 128 or b.y<0 or b.y>128) then
   del(bullets,b)
  end
 end
 
 if (t%9<3) then
  ship.sp=1 
 else if (t%9<6) then
   ship.sp=2
  else
   ship.sp=3
  end
 end
 
 if btn(0) then ship.x-=1 end
 if btn(1) then ship.x+=1 end
 if btn(2) then ship.y-=1 end
 if btn(3) then ship.y+=1 end
 if btn(4) then fire () end	
end

function _draw()
 cls ()
 print (#bullets, 9)
 spr (ship.sp,ship.x,ship.y)
 for b in all(bullets) do
  spr (b.sp,b.x,b.y)
 end
 
 for e in all(enemies) do
  spr (e.sp,e.x,e.y)
  
  end
 end
__gfx__
00000000000c0000000c0000000c000000090000000aa00000000000000000000000000000000000000000000000000000000000000000000000000000000000
00bbb00000ccc00000ccc00000ccc000000900003009900300000000000000000000000000000000000000000000000000000000000000000000000000000000
0bb70b000c555c000c555c000c555c00000900003633336300000000000000000000000000000000000000000000000000000000000000000000000000000000
0bb77b000ccccc000ccccc000ccccc00000900003633336300000000000000000000000000000000000000000000000000000000000000000000000000000000
0bb77b00ccc6ccc0ccc6ccc0ccc6ccc0000000000335533009000090000000000000000000000000000000000000000000000000000000000000000000000000
b0bbb0b0ccc6ccc0ccc6ccc0ccc6ccc0000000000033330009000090000000000000000000000000000000000000000000000000000000000000000000000000
b00b000bc09890c0c09890c0c09890c0000000000003300009000090000000000000000000000000000000000000000000000000000000000000000000000000
0000b00000aaa00000aa0000000aa000000000000000000009000090000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050507050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
0001000002030080300b03011030130301505016050100501e0503d3503a050350502a050130500d0500b0500a050130500d050000000a0500a0500a0500a0500b1500b0500a050000000905000000090500b050
0001000000000000003b0502d0500c0500a0500705007050090500a0500c050370503705037050370503705037050370503705037050370503705037050370503605036050360503405000000000000000000000
000100003b4503c4503c4503a4503b45036450324502e45028450244501d4501a4501745013450114500f4500e4500d4500c4500b4500a4500945007450054500345002450004500045000450004500045000450
0010000003370101700f1700e1701017014170151701567014670186701a07015070130701307014070150701a670266702867026270232703647013570105700e57007470187701677017770003700007012370
